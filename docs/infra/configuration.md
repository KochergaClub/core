# Конфигурация

Для конфигурации используем:

- kubernetes для хранения конфигов и секретов
- kustomize для настройки разных конфигов в разных окружениях
- env-переменные, когда это уместно, и python-конфиги для django

## Environment или python-конфиги?

Есть два варианта, как конфигурировать django-бекенд:
1. Пробрасывать всё через env. Это [считается добродетелью в 12-factor apps](https://12factor.net/config).
2. Хранить конфиги в конфигах на python (как это принято в django), монтировать их через volume.

Чем лучше первый подход:
- [считается добродетелью в 12-factor apps](https://12factor.net/config)
- проще шарить между фронтендом и бекендом (например, `S3_BUCKET` нужен и там, и там)
- можно избежать копипаста `volumes` и `volumeMounts` в манифестах, не прибегая к использованию [PodPresets](https://kubernetes.io/docs/concepts/workloads/pods/podpreset/)

Чем лучше второй подход:
- не надо копипастить имена переменных (`FOO_BAR=os.environ['FOO_BAR']`)
