# Заметки про даты и время на бекенде

- Используем `USE_TZ`, [как положено](https://docs.djangoproject.com/en/3.0/topics/i18n/timezones/), то есть все даты хранятся в базе в UTC.
- Для _любых_ операций отображения дат про это важно не забывать и конвертировать дату в локальную через `django.utils.timezone.localtime`. (Это важно, например, при формировании email'ов, или текстов постов для соцсетей. API отдаёт даты в UTC).
- В том числе важно не забывать про локальные даты, когда вам надо взять `dt.date()`.
- Примерно везде, где вам может понадобиться `datetime.now()` (или любой другой вручную сконструированный объект datetime), не забудьте передать таймзону. Удобно передавать `TZ` из модуля `kocherga.dateutils` (`datetime.now(TZ)` короче, чем `timezone.localtime(timezone.now())`).
