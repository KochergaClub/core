<!doctype html>
<body>
  <script src="https://vk.com/js/api/xd_connection.js?2"  type="text/javascript"></script>
  <script type="text/javascript">
   VK.init(function() {
     VK.callMethod('showGroupSettingsBox', 64);
     VK.addCallback('onAppWidgetPreviewFail', function f(props) {
       console.log(props);
     });
     VK.addCallback('onAppWidgetPreviewSuccess', function f(props) {
       console.log('success!');
     });
     VK.addCallback('onGroupSettingsChanged', function f(settings) {
       console.log('settings changed');
       VK.callMethod('showAppWidgetPreviewBox', 'list', 'return { \
        "title": "Расписание", \
        "title_url": "https://vk.com/page-99973027_50473877", \
        "more": "Все мероприятия", \
        "more_url": "https://vk.com/page-99973027_50473877" \
       };');
     });
   }, function() {
     // API initialization failed
     // Can reload page here
   }, '5.80');
  </script>
</body>
