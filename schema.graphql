type AnalyticsBovStat {
  date: String!
  count: Int!
  total_income: Int!
}

"""
Describes the current user.

If user is not signed in, `is_authenticated` field will be false and all other fields will be empty.
"""
type AuthCurrentUser {
  id: ID!
  is_authenticated: Boolean!
  email: String
  first_name: String
  last_name: String
  is_staff: Boolean
  permissions: [String!]!
}

type AuthGroup {
  id: ID!
  name: String!
  permissions: [AuthPermission!]!
  users: [AuthUser!]!
}

input AuthLoginCredentialsInput {
  email: String
  password: String
  token: String
}

input AuthLoginInput {
  credentials: AuthLoginCredentialsInput!
  result: String!
}

type AuthLoginResult {
  error: String
  user: AuthCurrentUser
  registered: Boolean
}

type AuthLogoutResult {
  ok: Boolean
}

type AuthPermission {
  id: ID!
  name: String!
  users: [AuthUser!]!
}

input AuthSendMagicLinkInput {
  email: String!
  next: String
}

type AuthSendMagicLinkResult {
  ok: Boolean
  error: String
}

input AuthSetMyNamesInput {
  first_name: String!
  last_name: String!
}

type AuthSetMyNamesResult {
  error: String
  ok: Boolean
}

input AuthSetPasswordInput {
  old_password: String
  new_password: String!
}

type AuthSetPasswordResult {
  error: String
  ok: Boolean
}

type AuthUser {
  id: ID!
  email: String!
  staff_member: StaffMember
  external_accounts: [ExternalServiceAccount!]!
}

type BasicCardBlock implements WagtailBlock {
  id: ID!
  value: String!
}

type BasicLeadBlock implements WagtailBlock {
  id: ID!
  value: String!
}

type BasicResult {
  ok: Boolean
}

type BasicTextBlock implements WagtailBlock {
  id: ID!
  value: BasicTextBlockValue!
}

type BasicTextBlockValue {
  text: String!
  centered: Boolean!
}

type BigContactsBlock implements WagtailBlock {
  id: ID!
  value: BigContactsBlockValue!
}

type BigContactsBlockValue {
  map: WagtailGeo!
  address: String!
  phone: String!
  email: String!
  text: String!
}

type BlogIndexPage implements WagtailPage {
  id: ID!
  title: String!
  meta: WagtailPageMeta!
  subtitle: String!
  posts: [BlogPostPage!]!
}

type BlogPostAuthor {
  name: String!
  description: String!
  image(spec: String!): WagtailImageRendition!
}

type BlogPostPage implements WagtailPage {
  id: ID!
  title: String!
  meta: WagtailPageMeta!
  date: String!
  summary: String!
  body: String!
  authors: [BlogPostAuthor!]!
}

input CashierCreatePaymentInput {
  amount: Int!
  whom: ID!
  comment: String!
}

type CashierPayment {
  id: ID!
  amount: Int!
  created_dt: String!
  redeem_dt: String
  comment: String!
  is_redeemed: Boolean!
  whom: AuthUser!
}

type CashierPaymentConnection {
  pageInfo: PageInfo!
  nodes: [CashierPayment!]!
  edges: [CashierPaymentEdge!]!
}

type CashierPaymentEdge {
  node: CashierPayment!
}

input Cm2CreateCustomerInput {
  card_id: Int!
  first_name: String!
  last_name: String!
}

input Cm2CreateOrderInput {
  customer: ID
}

type Cm2Customer {
  id: ID!
  card_id: Int!
  first_name: String!
  last_name: String!
  orders(before: String, after: String, first: Int, last: Int): Cm2OrderConnection!
}

type Cm2CustomerConnection {
  pageInfo: PageInfo!
  nodes: [Cm2Customer!]!
  edges: [Cm2CustomerEdge!]!
}

type Cm2CustomerEdge {
  node: Cm2Customer!
}

type Cm2Order {
  id: ID!
  start: String!
  end: String
  customer: Cm2Customer
  value: Int!
}

type Cm2OrderConnection {
  pageInfo: PageInfo!
  nodes: [Cm2Order!]!
  edges: [Cm2OrderEdge!]!
}

type Cm2OrderEdge {
  node: Cm2Order!
}

type ColumnsBasicBlock implements WagtailBlock {
  id: ID!
  value: [ColumnsBasicBlockValue!]!
}

type ColumnsBasicBlockValue {
  header: String!
  text: String!
}

type ColumnsButtonsBlock implements WagtailBlock {
  id: ID!
  value: [ColumnsButtonsBlockValue!]!
}

type ColumnsButtonsBlockValue {
  title: String!
  text: String!
  image(spec: String!): WagtailImageRendition!
  caption: String!
  link: String!
}

input CreateRatioTicketTypeInput {
  training_id: ID!
  price: Int!
}

input DeleteRatioTicketTypeInput {
  id: ID!
}

type EmailMailchimpCategory {
  id: ID!
  title: String!
  category_id: String!
  interests: [EmailMailchimpInterest!]!
}

type EmailMailchimpInterest {
  id: ID!
  interest_id: String!
  name: String!
  subscriber_count: Int!
  category: EmailMailchimpCategory!
}

type EmailSubscribeChannel {
  id: ID!
  slug: String!
  interests: [EmailMailchimpInterest!]!
  log(before: String, after: String, first: Int, last: Int): EmailSubscribeChannelLogConnection!
}

input EmailSubscribeChannelCreateInput {
  slug: String!
  interest_ids: [ID!]!
}

type EmailSubscribeChannelLog {
  id: ID!
  dt: String!
  email: String!
}

type EmailSubscribeChannelLogConnection {
  pageInfo: PageInfo!
  nodes: [EmailSubscribeChannelLog!]!
  edges: [EmailSubscribeChannelLogEdge!]!
}

type EmailSubscribeChannelLogEdge {
  node: EmailSubscribeChannelLog!
}

type Event {
  start: String!
  end: String!
  title: String!
  summary: String!
  registration_type: String!
  pricing_type: String!
  realm: String!
  published: Boolean!
  event_type: String!
  id: ID!
  event_id: ID!
  description(format: EventsMarkupFormat): String!
  image(spec: String!): WagtailImageRendition
  project: ProjectPage
  public_tags: [String!]!
  announcements: EventsAnnouncements!
  my_ticket: MyEventsTicket
  tags: [String!]!
  public_google_event: EventsGoogleEvent
  zoom_meeting: ZoomMeeting
  prototype: EventsPrototype
  visitors: String
  creator: String
  created: String!
  updated: String!
  location: String!
  room: String!
  zoom_link: String!
  timing_description_override: String!
  tickets: [EventsTicket!]!
  feedbacks: [EventsFeedback!]!
}

input EventAddTagInput {
  event_id: ID!
  tag: String!
}

input EventAnnounceInput {
  event_id: ID!
  target: EventAnnounceTarget!
}

enum EventAnnounceTarget {
  VK
  FB
  TIMEPAD
}

type EventConnection {
  pageInfo: PageInfo!
  nodes: [Event!]!
  edges: [EventEdge!]!
}

input EventCreateInput {
  start: String!
  end: String!
  title: String!
  description: String
  location: String
}

type EventCreateResult {
  ok: Boolean
  event: Event!
}

input EventDeleteInput {
  event_id: ID!
}

input EventDeleteTagInput {
  event_id: ID!
  tag: String!
}

type EventEdge {
  node: Event!
}

input EventGenerateOpenViduTokenInput {
  event_id: ID!
}

type EventGenerateOpenViduTokenResult {
  token: String!
}

input EventGenerateZoomLinkInput {
  event_id: ID!
}

input EventMoveInput {
  event_id: ID!
  start: String!
}

type EventNotification {
  type: String!
  id: ID!
}

input EventPrototypeAddTagInput {
  id: ID!
  tag: String!
}

input EventPrototypeCancelDateInput {
  id: ID!
  date: String!
}

input EventPrototypeCreateInput {
  title: String!
  summary: String
  description: String
  timing_description_override: String
  location: String
  weekday: Int!
  hour: Int!
  minute: Int!
  length: Int!
  project_slug: String
  vk_group_name: String
  timepad_category_code: String
}

input EventPrototypeDeleteTagInput {
  id: ID!
  tag: String!
}

input EventPrototypeNewEventInput {
  id: ID!
  ts: Int!
}

input EventPrototypeSetImageInput {
  id: ID!
  image_id: ID!
}

input EventPrototypeUpdateInput {
  id: ID!
  active: Boolean
  title: String
  summary: String
  description: String
  timing_description_override: String
  location: String
  weekday: Int
  hour: Int
  minute: Int
  length: Int
  project_slug: String
  vk_group_name: String
  timepad_category_code: String
}

type EventPrototypeUpdateResult {
  ok: Boolean!
  prototype: EventsPrototype!
}

type EventSearchItem {
  event: Event!
}

input EventSetAnnounceUrlInput {
  event_id: ID!
  target: EventAnnounceTarget!
  url: String!
}

input EventSetEventTypeInput {
  event_id: ID!
  event_type: String!
}

input EventSetImageFromUrlInput {
  event_id: ID!
  url: String!
}

input EventSetPricingTypeInput {
  event_id: ID!
  pricing_type: String!
}

input EventSetRealmInput {
  event_id: ID!
  realm: String!
}

input EventSetZoomLinkInput {
  event_id: ID!
  zoom_link: String!
}

input EventTimepadAnnouncementUpdateInput {
  event_id: ID!
  prepaid_tickets: Boolean
  category_code: String
}

input EventUpdateInput {
  event_id: ID!
  start: String
  end: String
  published: Boolean
  visitors: String
  title: String
  description: String
  summary: String
  event_type: String
  registration_type: String
  pricing_type: String
  realm: String
  timing_description_override: String
  location: String
  zoom_link: String
  prototype_id: ID
  project_slug: String
  image_id: ID
}

type EventUpdateResult {
  ok: Boolean
  event: Event!
}

input EventVkAnnouncementSetImageInput {
  event_id: ID!
  image_id: ID!
}

input EventVkAnnouncementUpdateInput {
  event_id: ID!
  group: String
}

type EventsAnnouncementFb {
  link: String!
  group: String!
}

type EventsAnnouncementTimepad {
  link: String!
  category_code: String!
  prepaid_tickets: Boolean!
}

type EventsAnnouncementVk {
  link: String!
  group: String!
  image(spec: String!): WagtailImageRendition
}

type EventsAnnouncements {
  timepad: EventsAnnouncementTimepad!
  vk: EventsAnnouncementVk!
  fb: EventsAnnouncementFb!
}

type EventsFeedback {
  id: ID!
  overall_score: Int
  recommend_score: Int
  content_score: Int
  conductor_score: Int
  source_friend: Boolean!
  source_vk: Boolean!
  source_fb: Boolean!
  source_timepad: Boolean!
  source_email: Boolean!
  source_website: Boolean!
  custom_source: String
  comment: String
}

input EventsFeedbackCreateInput {
  event_id: ID!
  overall_score: Int
  recommend_score: Int
  content_score: Int
  conductor_score: Int
  source_friend: Boolean!
  source_vk: Boolean!
  source_fb: Boolean!
  source_timepad: Boolean!
  source_email: Boolean!
  source_website: Boolean!
  custom_source: String
  comment: String
}

type EventsFeedbackCreateResult {
  ok: Boolean
  feedback: EventsFeedback!
}

input EventsFeedbackDeleteInput {
  id: ID!
}

input EventsFilterInput {
  event_type: String
}

type EventsGoogleCalendar {
  id: ID!
  url: String!
}

type EventsGoogleEvent {
  google_id: String!
  html_link: String!
  id: ID!
}

type EventsListBlock implements WagtailBlock {
  id: ID!
  events: [Event!]!
}

enum EventsMarkupFormat {
  SOURCE
  PLAIN
}

type EventsPrototype {
  id: ID!
  title: String!
  summary: String!
  description: String!
  location: String!
  timing_description_override: String!
  active: Boolean!
  weekday: Int!
  hour: Int!
  minute: Int!
  length: Int!
  project: ProjectPage
  tags: [String!]!
  image(spec: String!): WagtailImageRendition
  suggested_dates(until_ts: Int, limit: Int!): [String!]!
  instances(limit: Int): [Event!]!
  vk_group: VkGroup
  timepad_category: TimepadCategory
}

type EventsTicket {
  id: ID!
  status: String!
  user: AuthUser!
}

type EventsWeeklyDigest {
  id: ID!
  start: String!
  image(spec: String!): WagtailImageRendition
  mailchimp: EventsWeeklyDigestMailchimp!
  telegram: EventsWeeklyDigestTelegram!
  vk: EventsWeeklyDigestVk!
}

type EventsWeeklyDigestMailchimp {
  link: String
}

input EventsWeeklyDigestPostMailchimpInput {
  text: String
}

type EventsWeeklyDigestTelegram {
  link: String
}

type EventsWeeklyDigestUpdateResult {
  ok: Boolean
  digest: EventsWeeklyDigest!
}

type EventsWeeklyDigestVk {
  link: String
}

interface ExternalService {
  slug: String!
  accounts: [ExternalServiceAccount!]!
}

interface ExternalServiceAccount {
  service: ExternalService!
}

type FaqEntry {
  id: ID!
  question: String!
  answer: String!
}

type FaqPage implements WagtailPage {
  id: ID!
  title: String!
  meta: WagtailPageMeta!
  summary: String!
  prev_page: FaqPage
  next_page: FaqPage
  entries: [FaqEntry!]!
  subpages: [FaqPage!]!
}

type FolderPage implements WagtailPage {
  title: String!
  id: ID!
  meta: WagtailPageMeta!
}

type FreeFormPage implements WagtailPage {
  title: String!
  id: ID!
  meta: WagtailPageMeta!
  body: [WagtailBlock!]!
}

type FrontPartnersBlock implements WagtailBlock {
  id: ID!
  value: [FrontPartnersBlockValue!]!
}

type FrontPartnersBlockValue {
  link: String!
  image(spec: String!): WagtailImageRendition!
}

type FrontSocialLinksBlock implements WagtailBlock {
  id: ID!
}

type GreyBlock implements WagtailBlock {
  id: ID!
  value: GreyBlockValue!
}

type GreyBlockValue {
  header: String!
  text: String!
}

type HeroFrontBlock implements WagtailBlock {
  id: ID!
  value: HeroFrontBlockValue!
}

type HeroFrontBlockValue {
  title: String!
  buttons: [HeroFrontBlock_buttonsValue!]!
}

type HeroFrontBlock_buttonsValue {
  title: String!
  link: String!
  highlight: Boolean!
}

type HrBlock implements WagtailBlock {
  id: ID!
}

type ImageTemplate {
  name: ID!
  schema: ImageTemplateSchema!
  sizes: ImageTemplateSizes!
}

type ImageTemplateSchema {
  fields: [ImageTemplateSchemaField!]!
}

type ImageTemplateSchemaField {
  name: String!
  value_type: String!
  default: String
}

type ImageTemplateSizes {
  width: Int!
  height: Int!
}

type Importer {
  name: ID!
}

input KkmRegisterCheckInput {
  email: String!
  title: String!
  sum: Int!
  sign_method_calculation: Int!
}

type KkmRegisterCheckResult {
  status: Int!
  url: String
  error: String
}

type MailchimpSubscribeBlock implements WagtailBlock {
  id: ID!
  value: MailchimpSubscribeBlockValue!
}

type MailchimpSubscribeBlockValue {
  news: Boolean!
  events: Boolean!
  trainings: Boolean!
}

type MastermindDatingCohort {
  id: ID!
  leader_telegram_uid: String!
  event: Event
  participants: [MastermindDatingParticipant!]!
  groups: [MastermindDatingGroup!]!
}

type MastermindDatingCohortMutationResult {
  cohort: MastermindDatingCohort!
}

type MastermindDatingGroup {
  id: ID!
  telegram_invite_link: String!
  participants: [MastermindDatingParticipant!]!
}

type MastermindDatingParticipant {
  id: ID!
  name: String!
  desc: String!
  voted_for: Boolean!
  present: Boolean!
  invite_email_sent: Boolean!
  photo: String
  user: AuthUser!
  cohort: MastermindDatingCohort!
}

type MastermindDatingParticipantMutationResult {
  participant: MastermindDatingParticipant!
}

type Mutation {
  wagtailUploadImageFromUrl(input: WagtailUploadImageFromUrlInput!): WagtailUploadImageFromUrlResult!
  authAddUserToGroup(group_id: ID!, user_id: ID!): Boolean!
  authRemoveUserFromGroup(group_id: ID!, user_id: ID!): Boolean!
  authLogin(input: AuthLoginInput!): AuthLoginResult!
  authSetPassword(input: AuthSetPasswordInput!): AuthSetPasswordResult!
  authLogout: AuthLogoutResult!
  authSendMagicLink(input: AuthSendMagicLinkInput!): AuthSendMagicLinkResult!
  authSetMyNames(input: AuthSetMyNamesInput!): AuthSetMyNamesResult!
  zadarmaSetMemberForPbxCall(member_id: ID!, pbx_call_id: ID!): Boolean!
  fbMarketingAudienceUploadRatioTickets: BasicResult!
  myPrivacyModeSet(mode: String!): Boolean
  cm2CreateOrder(input: Cm2CreateOrderInput!): Cm2Order!
  cm2CreateCustomer(input: Cm2CreateCustomerInput!): Cm2Customer!
  cm2CloseOrder(id: ID!): Boolean!
  watchmenCreateWatchman(params: WatchmenCreateWatchmanInput!): Boolean!
  watchmenUpdateShift(params: WatchmenUpdateShiftInput!): WatchmenShift!
  watchmenSetWatchmanPriority(params: WatchmenSetWatchmanPriorityInput!): Boolean!
  watchmenSetWatchmanGrade(params: WatchmenSetWatchmanGradeInput!): Boolean!
  cashierCreatePayment(params: CashierCreatePaymentInput!): Boolean
  cashierRedeemPayment(id: ID!): Boolean
  kkmRegisterCheck(params: KkmRegisterCheckInput!): KkmRegisterCheckResult!
  myEventsTicketUnregister(event_id: ID!): MyEventsTicket!
  myEventsTicketRegister(event_id: ID!): MyEventsTicket!
  myEventsTicketRegisterAnon(input: MyEventsTicketRegisterAnonInput!): MyEventsTicket!
  eventCreate(input: EventCreateInput!): EventCreateResult!
  eventUpdate(input: EventUpdateInput!): EventUpdateResult!
  eventDelete(input: EventDeleteInput!): BasicResult!
  eventSetEventType(input: EventSetEventTypeInput!): EventUpdateResult!
  eventSetRealm(input: EventSetRealmInput!): EventUpdateResult!
  eventSetPricingType(input: EventSetPricingTypeInput!): EventUpdateResult!
  eventSetZoomLink(input: EventSetZoomLinkInput!): EventUpdateResult!
  eventGenerateZoomLink(input: EventGenerateZoomLinkInput!): EventUpdateResult!
  eventAddTag(input: EventAddTagInput!): EventUpdateResult!
  eventDeleteTag(input: EventDeleteTagInput!): EventUpdateResult!
  eventSetImageFromUrl(input: EventSetImageFromUrlInput!): EventUpdateResult!
  eventMove(input: EventMoveInput!): EventUpdateResult!
  eventGenerateOpenViduToken(input: EventGenerateOpenViduTokenInput!): EventGenerateOpenViduTokenResult!
  eventPrototypeCreate(input: EventPrototypeCreateInput!): EventPrototypeUpdateResult!
  eventPrototypeUpdate(input: EventPrototypeUpdateInput!): EventPrototypeUpdateResult!
  eventPrototypeCancelDate(input: EventPrototypeCancelDateInput!): BasicResult!
  eventPrototypeNewEvent(input: EventPrototypeNewEventInput!): BasicResult!
  eventPrototypeAddTag(input: EventPrototypeAddTagInput!): EventPrototypeUpdateResult!
  eventPrototypeDeleteTag(input: EventPrototypeDeleteTagInput!): EventPrototypeUpdateResult!
  eventPrototypeSetImage(input: EventPrototypeSetImageInput!): EventPrototypeUpdateResult!
  eventsWeeklyDigestPostVk: EventsWeeklyDigestUpdateResult!
  eventsWeeklyDigestPostTelegram: EventsWeeklyDigestUpdateResult!
  eventsWeeklyDigestPostMailchimp(input: EventsWeeklyDigestPostMailchimpInput!): EventsWeeklyDigestUpdateResult!
  vkWikiScheduleUpdate: BasicResult
  eventTimepadAnnouncementUpdate(input: EventTimepadAnnouncementUpdateInput!): EventUpdateResult
  eventVkAnnouncementUpdate(input: EventVkAnnouncementUpdateInput!): EventUpdateResult
  eventVkAnnouncementSetImage(input: EventVkAnnouncementSetImageInput!): EventUpdateResult
  eventAnnounce(input: EventAnnounceInput!): EventUpdateResult
  eventSetAnnounceUrl(input: EventSetAnnounceUrlInput!): EventUpdateResult
  eventsFeedbackCreate(input: EventsFeedbackCreateInput!): EventsFeedbackCreateResult!
  eventsFeedbackDelete(input: EventsFeedbackDeleteInput!): BasicResult!
  staffGrantGooglePermissionsToMember(id: ID!): Boolean
  staffFireMember(id: ID!): Boolean
  staffUnfireMember(id: ID!): Boolean
  ratioAddTraining(params: RatioAddTrainingInput!): RatioTraining!
  ratioAddTicket(input: RatioAddTicketInput!): RatioTicket!
  ratioPaymentAdd(input: RatioPaymentAddInput!): RatioPaymentAddResult!
  ratioPaymentDelete(payment_id: ID!): BasicResult!
  ratioPaymentFiscalize(payment_id: ID!): Boolean!
  ratioPaymentFiscalizedManually(payment_id: ID!): RatioPaymentFiscalizedManuallyResult!
  ratioPaymentSetStatus(input: RatioPaymentSetStatusInput!): RatioPaymentSetStatusResult!
  ratioTrainingCopyScheduleFrom(params: RatioTrainingCopyScheduleFromInput!): Boolean!
  ratioTrainingAddDay(params: RatioTrainingAddDayInput!): Boolean!
  ratioTrainingSyncParticipantsToMailchimp(training_id: ID!): Boolean!
  ratioTrainingSendEmail(input: RatioTrainingSendEmailInput!): RatioTrainingSendEmailResult!
  ratioCreateOrder(input: RatioCreateOrderInput!): RatioCreateOrderResult!
  ratioConfirmOrder(input: RatioConfirmOrderInput!): RatioConfirmOrderResult!
  createRatioTicketType(input: CreateRatioTicketTypeInput!): RatioTicketType!
  deleteRatioTicketType(input: DeleteRatioTicketTypeInput!): BasicResult!
  mastermindDatingCreateCohort: MastermindDatingCohortMutationResult!
  mastermindDatingPopulateCohortFromEvent(cohort_id: ID!): MastermindDatingCohortMutationResult!
  mastermindDatingSendInviteEmails(cohort_id: ID!): MastermindDatingCohortMutationResult!
  mastermindDatingClearAllGroups(cohort_id: ID!): MastermindDatingCohortMutationResult!
  mastermindDatingRunSolver(cohort_id: ID!): MastermindDatingCohortMutationResult!
  mastermindDatingBroadcastSolution(cohort_id: ID!): MastermindDatingCohortMutationResult!
  mastermindDatingDeleteCohort(cohort_id: ID!): BasicResult!
  mastermindDatingCreateGroup(cohort_id: ID!): MastermindDatingCohortMutationResult!
  mastermindDatingSetEventForCohort(cohort_id: ID!, event_id: ID!): MastermindDatingCohortMutationResult!
  mastermindDatingUnsetEventForCohort(cohort_id: ID!): MastermindDatingCohortMutationResult!
  mastermindDatingCreateParticipant(cohort_id: ID!, email: String!): MastermindDatingParticipantMutationResult!
  mastermindDatingActivateVoting(participant_id: ID!): MastermindDatingParticipantMutationResult!
  mastermindDatingSetPresenceStatus(participant_id: ID!, present: Boolean!): MastermindDatingParticipantMutationResult!
  wagtailEditPageBodyBlocks(input: WagtailEditPageBodyBlocksInput!): WagtailEditPageBodyBlocksResult!
  emailSubscribeChannelDelete(slug: String!): Boolean
  emailSubscribeChannelCreate(params: EmailSubscribeChannelCreateInput!): Boolean
  emailSubscribeChannelAddEmail(slug: String!, email: String!): Boolean
  myEmailResubscribe: Boolean
  myEmailUnsubscribe: Boolean
  myEmailSubscribeToInterest(interest_id: ID!): Boolean!
  myEmailUnsubscribeFromInterest(interest_id: ID!): Boolean!
  tildaImportAll: BasicResult
  tildaImport(input: TildaImportInput!): BasicResult
  openviduGenerateRoomToken: OpenviduGenerateRoomTokenResult!
}

type My {
  user: AuthCurrentUser!
  membership: MyCmCustomer
  tickets(before: String, after: String, first: Int, last: Int): MyEventsTicketConnection!
  email_subscription: MyEmailSubscription!
}

type MyCmCustomer {
  card_id: Int!
  subscription_until: String
  last_visit: String
  total_spent: Int!
  privacy_mode: String!
  orders_count: Int!
  orders: [MyCmOrder!]!
}

type MyCmOrder {
  order_id: ID!
  start_dt: String!
  end_dt: String
}

type MyEmailSubscription {
  status: String!
  interests: [MyEmailSubscriptionInterest!]
}

type MyEmailSubscriptionInterest {
  id: ID!
  name: String!
  subscribed: Boolean
}

type MyEventsTicket {
  id: ID!
  event: Event!
  status: String!
  created: String
  zoom_link: String
}

type MyEventsTicketConnection {
  pageInfo: PageInfo!
  nodes: [MyEventsTicket!]!
  edges: [MyEventsTicketEdge!]!
}

type MyEventsTicketEdge {
  node: MyEventsTicket!
}

input MyEventsTicketRegisterAnonInput {
  event_id: ID!
  email: String!
  subscribed_to_newsletter: Boolean
}

type NowCustomer {
  card_id: Int!
  first_name: String!
  last_name: String!
}

type NowInfo {
  total: Int!
  customers: [NowCustomer!]!
}

type OpenviduGenerateRoomTokenResult {
  token: String!
}

type PageInfo {
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: String
  endCursor: String
}

type PageSearchItem {
  page: WagtailPage!
}

type PhotoRibbonBlock implements WagtailBlock {
  id: ID!
  value(spec: String!): [WagtailImageRendition!]!
}

type PresentationPage implements WagtailPage {
  title: String!
  id: ID!
  meta: WagtailPageMeta!
  slides: [WagtailBlock!]!
}

type ProjectIndexPage implements WagtailPage {
  id: ID!
  title: String!
  meta: WagtailPageMeta!
  active_description: String!
  projects(is_active: Boolean): [ProjectPage!]!
}

type ProjectPage implements WagtailPage {
  id: ID!
  title: String!
  meta: WagtailPageMeta!
  summary: String!
  activity_summary: String
  is_active: Boolean!
  body: String!
  image(spec: String!): WagtailImageRendition!
  upcoming_events: [Event!]!
  telegram_chats: [TelegramChat!]!
}

type Query {
  wagtailPage(page_id: ID, path: String, preview_token: String): WagtailPage
  wagtailPages: [WagtailPage!]!
  wagtailImage(input: WagtailImageInput!): WagtailImage
  wagtailImageSearch(input: WagtailImageSearchInput!): WagtailImageSearchResult!
  wagtailBlockStructure(input: WagtailBlockStructureInput!): WagtailBlockStructure!
  wagtailRenderBlock(input: WagtailRenderBlockInput!): WagtailRenderBlockResult!
  search(input: SearchInput!): SearchResult!
  authGroupsAll: [AuthGroup!]!
  authPermissionsAll: [AuthPermission!]!
  zadarmaPbxCalls(before: String, after: String, first: Int, last: Int): ZadarmaPbxCallConnection!
  zadarmaPbxCall(pbx_call_id: ID!): ZadarmaPbxCall!
  importers: [Importer!]!
  now: NowInfo!
  cm2Customers(search: String, before: String, after: String, first: Int, last: Int): Cm2CustomerConnection!
  cm2Orders(status: String, before: String, after: String, first: Int, last: Int): Cm2OrderConnection!
  cm2Customer(id: ID!): Cm2Customer!
  cm2Order(id: ID!): Cm2Order!
  watchmenWatchmenAll(currentStaff: Boolean, currentRole: Boolean): [WatchmenWatchman!]!
  watchmenGradesAll: [WatchmenGrade!]!
  watchmenShifts(from_date: String!, to_date: String!): [WatchmenShift!]!
  cashierPayments(before: String, after: String, first: Int, last: Int): CashierPaymentConnection!
  analyticsBovStats: [AnalyticsBovStat!]!
  events(before: String, after: String, first: Int, last: Int, search: String, filter: EventsFilterInput): EventConnection!
  event(event_id: ID!): Event
  eventsPrototype(id: ID!): EventsPrototype!
  eventsPrototypes: [EventsPrototype!]!
  publicEvents(before: String, after: String, first: Int, last: Int, from_date: String, project_id: ID): EventConnection!
  publicEvent(event_id: ID!): Event
  vkGroups: [VkGroup!]!
  timepadCategories: [TimepadCategory!]!
  eventsWeeklyDigestCurrent: EventsWeeklyDigest!
  eventsPublicGoogleCalendar: EventsGoogleCalendar
  staffMembersAll: [StaffMember!]!
  staffMember(id: ID!): StaffMember!
  ratioTrainings(before: String, after: String, first: Int, last: Int): RatioTrainingConnection!
  ratioTrainingBySlug(slug: String!): RatioTraining!
  ratioTrainersAll: [RatioTrainer!]!
  ratioTrainingEmailPrototype(training_id: ID!, type: String!): String!
  ratioTicketTypes: [RatioTicketType!]!
  mastermindDatingCohorts: [MastermindDatingCohort!]!
  mastermindDatingCohortById(id: ID!): MastermindDatingCohort!
  projects: [ProjectPage!]!
  specialOffer: SpecialOffer
  emailMailchimpCategoriesAll: [EmailMailchimpCategory!]!
  emailSubscribeChannelsAll: [EmailSubscribeChannel!]!
  imageTemplatesAll: [ImageTemplate!]!
  imageTemplateBySlug(slug: String!): ImageTemplate!
  telegramChats: [TelegramChat!]!
  tildaPage(path: String!): TildaPage
  tildaPages: [TildaPage!]!
  externalServices: [ExternalService!]!
  my: My!
}

type RatioActivity {
  id: ID!
  time: String!
  activity_type: String!
  name: String!
  location: String!
  trainer: RatioTrainer
}

input RatioAddTicketInput {
  training: ID!
  email: String!
  first_name: String!
  last_name: String
  payment_amount: Int!
  ticket_type: String
  comment: String
}

input RatioAddTrainingInput {
  name: String!
  slug: String!
  date: String!
  telegram_link: String!
}

type RatioBriefingBlock implements WagtailBlock {
  id: ID!
  value: String!
}

input RatioConfirmOrderInput {
  order_id: ID!
}

enum RatioConfirmOrderOutcome {
  NOT_FOUND
  NOT_PAID
  OK
  ALREADY_FULFILLED
  TICKET_ALREADY_EXISTS
}

type RatioConfirmOrderResult {
  outcome: RatioConfirmOrderOutcome!
}

input RatioCreateOrderInput {
  ticket_type_id: ID!
  email: String!
  first_name: String!
  last_name: String!
  city: String!
  payer: RatioCreateOrderPayerInput
}

input RatioCreateOrderPayerInput {
  email: String!
  first_name: String!
  last_name: String!
}

type RatioCreateOrderResult {
  order: RatioOrder!
}

type RatioExerciseBlock implements WagtailBlock {
  id: ID!
  value: RatioExerciseBlockValue!
}

type RatioExerciseBlockValue {
  header: String!
  lines_count: Int!
  enumerate: Boolean!
}

type RatioExerciseOnelineBlock implements WagtailBlock {
  id: ID!
  value: RatioExerciseOnelineBlockValue!
}

type RatioExerciseOnelineBlockValue {
  text: String!
}

type RatioHeaderBlock implements WagtailBlock {
  id: ID!
  value: String!
}

type RatioInsetBlock implements WagtailBlock {
  id: ID!
  value: String!
}

type RatioMathBlock implements WagtailBlock {
  id: ID!
  value: String!
}

type RatioNotebookIndexPage implements WagtailPage {
  title: String!
  id: ID!
  meta: WagtailPageMeta!
}

type RatioNotebookPage implements WagtailPage {
  title: String!
  id: ID!
  meta: WagtailPageMeta!
  sections: [RatioNotebookSectionBlock!]!
}

type RatioNotebookSectionBlock implements WagtailBlock {
  id: ID!
  value: RatioSectionPage!
}

type RatioOrder {
  fulfilled: Boolean!
  id: ID!
  confirmation_token: String!
}

type RatioParagraphBlock implements WagtailBlock {
  id: ID!
  value: String!
}

type RatioPayment {
  id: ID!
  amount: Int!
  payment_type: String!
  status: String!
  fiscalization_status: String!
  comment: String!
  custom_kkm_title: String!
  ticket: RatioTicket!
}

input RatioPaymentAddInput {
  ticket_id: ID!
  amount: Int!
  status: String
  fiscalization_status: String!
  payment_type: String!
  comment: String
}

type RatioPaymentAddResult {
  payment: RatioPayment!
}

type RatioPaymentFiscalizedManuallyResult {
  payment: RatioPayment!
}

input RatioPaymentSetStatusInput {
  payment_id: ID!
  status: String!
}

type RatioPaymentSetStatusResult {
  payment: RatioPayment!
}

type RatioPresentationIndexPage implements WagtailPage {
  title: String!
  id: ID!
  meta: WagtailPageMeta!
  presentations: [PresentationPage!]!
}

type RatioSectionIndexPage implements WagtailPage {
  title: String!
  id: ID!
  meta: WagtailPageMeta!
}

type RatioSectionPage implements WagtailPage {
  title: String!
  id: ID!
  meta: WagtailPageMeta!
  body: [WagtailBlock!]!
}

type RatioTicket {
  id: ID!
  email: String!
  first_name: String!
  last_name: String
  registration_date: String
  status: String!
  ticket_type: String!
  payment_amount: Int!
  comment: String!
  payments: [RatioPayment!]!
  training: RatioTraining!
}

type RatioTicketType {
  price: Int!
  id: ID!
  training: RatioTraining!
}

type RatioTrainer {
  id: ID!
  short_name: String!
  long_name: String!
}

type RatioTraining {
  id: ID!
  name: String!
  slug: String!
  date: String!
  telegram_link: String!
  salaries_paid: Boolean!
  tickets: [RatioTicket!]!
  schedule: [RatioTrainingDay!]!
  ticket_types: [RatioTicketType!]!
  tickets_count: Int!
  total_income: Int!
  long_name: String!
}

input RatioTrainingAddDayInput {
  training_slug: String!
  date: String!
}

type RatioTrainingConnection {
  pageInfo: PageInfo!
  nodes: [RatioTraining!]!
  edges: [RatioTrainingEdge!]!
}

input RatioTrainingCopyScheduleFromInput {
  from_training_slug: String!
  to_training_slug: String!
}

type RatioTrainingDay {
  id: ID!
  date: String!
  activities: [RatioActivity!]!
}

type RatioTrainingEdge {
  node: RatioTraining!
}

input RatioTrainingSendEmailInput {
  training_id: ID!
  title: String!
  content: String!
}

type RatioTrainingSendEmailResult {
  draft_link: String!
}

input SearchInput {
  query: String!
  limit: Int
}

union SearchItem = PageSearchItem | EventSearchItem

type SearchResult {
  results: [SearchItem!]!
  more: Boolean!
}

type SectionHeaderBlock implements WagtailBlock {
  id: ID!
  value: SectionHeaderBlockValue!
}

type SectionHeaderBlockValue {
  header: String!
  text: String!
}

type SlackAccount implements ExternalServiceAccount {
  service: SlackExternalService!
  email: String!
}

type SlackExternalService implements ExternalService {
  slug: String!
  accounts: [SlackAccount!]!
}

type SlackUser {
  slack_id: String!
  image_url: String!
}

type SlideFragmentsBlock implements WagtailBlock {
  id: ID!
  value: [SlideFragmentsBlockValues!]!
}

union SlideFragmentsBlockValues = SlideFragmentsBlock_RichTextBlock | SlideFragmentsBlock_RawHtmlBlock

type SlideFragmentsBlock_RawHtmlBlock implements WagtailBlock {
  id: ID!
  value: String!
}

type SlideFragmentsBlock_RichTextBlock implements WagtailBlock {
  id: ID!
  value: String!
}

type SlideRawHtmlBlock implements WagtailBlock {
  id: ID!
  value: String!
}

type SlideRichTextBlock implements WagtailBlock {
  id: ID!
  value: String!
}

type SlideTitleBlock implements WagtailBlock {
  id: ID!
  value: String!
}

type SpecialOffer {
  id: ID!
  text: String!
  link: String!
  button_text: String!
  until: String!
  hide_duration: Int!
}

type StaffMember {
  id: ID!
  short_name: String!
  full_name: String!
  role: String!
  is_current: Boolean!
  vk: String!
  color: String!
  user: AuthUser!
  slack_user: SlackUser
}

type Subscription {
  events: EventNotification!
}

type TelegramChat {
  id: ID!
  username: String!
  title: String!
  photo(spec: String!): WagtailImageRendition
  project: ProjectPage
}

type TildaAsset {
  url: String!
  kind: String!
}

input TildaImportInput {
  page_id: Int!
}

type TildaPage {
  page_id: Int!
  path: String!
  body: String!
  title: String!
  description: String!
  show_header_and_footer: Boolean!
  og_image(spec: String!): WagtailImageRendition
  assets: [TildaAsset!]!
  css: [TildaAsset!]!
  js: [TildaAsset!]!
  imported_dt: String!
}

type TimepadCategory {
  id: ID!
  code: String!
  name: String!
}

type VkGroup {
  name: String!
}

type WagtailAnyBlockValidationError implements WagtailBlockValidationError {
  error_message: String!
}

interface WagtailBlock {
  id: ID!
}

interface WagtailBlockStructure {
  label: String!
  group: String
  required: Boolean!
}

input WagtailBlockStructureInput {
  name: String!
}

interface WagtailBlockValidationError {
  error_message: String!
}

type WagtailBooleanBlockStructure implements WagtailBlockStructure {
  label: String!
  group: String
  required: Boolean!
}

type WagtailCharBlockStructure implements WagtailBlockStructure {
  label: String!
  group: String
  required: Boolean!
}

input WagtailEditPageBodyBlocksInput {
  page_id: ID!
  publish: Boolean!
  blocksJson: String!
}

type WagtailEditPageBodyBlocksResult {
  page: WagtailPage
  validation_error: WagtailStreamFieldValidationError
}

type WagtailGeo {
  lat: String!
  lng: String!
}

type WagtailImage {
  id: ID!
  url: String!
  width: Int!
  height: Int!
  rendition(spec: String!): WagtailImageRendition!
}

type WagtailImageBlockStructure implements WagtailBlockStructure {
  label: String!
  group: String
  required: Boolean!
}

input WagtailImageInput {
  id: ID!
}

type WagtailImageRendition {
  id: ID!
  url: String!
  width: Int!
  height: Int!
  original_image: WagtailImage!
}

input WagtailImageSearchInput {
  query: String!
}

type WagtailImageSearchResult {
  results: [WagtailImage!]!
}

type WagtailListBlockStructure implements WagtailBlockStructure {
  label: String!
  group: String
  required: Boolean!
  child_block: WagtailBlockStructure!
}

type WagtailListBlockValidationError implements WagtailBlockValidationError {
  error_message: String!
  errors: [WagtailBlockValidationError]!
}

interface WagtailPage {
  id: ID!
  title: String!
  meta: WagtailPageMeta!
}

type WagtailPageMeta {
  slug: String!
  description: String!
  html_url: String! @deprecated(reason: "renamed to `url`")
  url: String!
  permissions: WagtailPagePermissions!
  revisions: [WagtailPageRevision!]!
  revision(id: ID!): WagtailPageRevision!
}

type WagtailPagePermissions {
  can_edit: Boolean!
}

type WagtailPageRevision {
  id: ID!
  created_at: String!
  as_page: WagtailPage!
}

input WagtailRenderBlockInput {
  type: String!
  paramsJson: String!
}

type WagtailRenderBlockResult {
  validation_error: WagtailStreamFieldValidationError
  block: WagtailBlock
}

type WagtailRichTextBlockStructure implements WagtailBlockStructure {
  label: String!
  group: String
  required: Boolean!
}

type WagtailStaticBlockStructure implements WagtailBlockStructure {
  label: String!
  group: String
  required: Boolean!
}

type WagtailStreamBlockValidationError {
  block_id: Int!
  error: WagtailBlockValidationError
}

type WagtailStreamFieldValidationError {
  block_errors: [WagtailStreamBlockValidationError!]!
  non_block_error: String
}

type WagtailStructBlockChildStructure {
  name: String!
  definition: WagtailBlockStructure!
}

type WagtailStructBlockFieldValidationError {
  name: String!
  error: WagtailBlockValidationError
}

type WagtailStructBlockStructure implements WagtailBlockStructure {
  label: String!
  group: String
  required: Boolean!
  child_blocks: [WagtailStructBlockChildStructure!]!
}

type WagtailStructBlockValidationError implements WagtailBlockValidationError {
  error_message: String!
  errors: [WagtailStructBlockFieldValidationError!]!
}

type WagtailURLBlockStructure implements WagtailBlockStructure {
  label: String!
  group: String
  required: Boolean!
}

input WagtailUploadImageFromUrlInput {
  url: String!
  title: String!
  basename: String!
}

type WagtailUploadImageFromUrlResult {
  image: WagtailImage!
}

input WatchmenCreateWatchmanInput {
  email: String!
  short_name: String!
  full_name: String!
  password: String!
  vk: String
  gender: String!
  skip_wiki: Boolean
  skip_cm_customer: Boolean
  skip_cm_user: Boolean
}

type WatchmenGrade {
  id: ID!
  code: String!
  multiplier: Float!
}

input WatchmenSetWatchmanGradeInput {
  watchman_id: ID!
  grade_id: ID!
}

input WatchmenSetWatchmanPriorityInput {
  watchman_id: ID!
  priority: Int!
}

type WatchmenShift {
  date: String!
  shift: String!
  is_night: Boolean!
  id: ID!
  watchman: WatchmenWatchman
}

input WatchmenUpdateShiftInput {
  date: String!
  shift: String!
  watchman_id: ID
  is_night: Boolean
}

type WatchmenWatchman {
  id: ID!
  priority: Int!
  member: StaffMember!
  grade: WatchmenGrade
}

type WikiAccount implements ExternalServiceAccount {
  service: WikiExternalService!
  name: String!
}

type WikiExternalService implements ExternalService {
  slug: String!
  accounts: [WikiAccount!]!
}

type ZadarmaCall {
  call_id: String!
  ts: String!
  call_type: String!
  disposition: String!
  clid: String!
  destination: String!
  sip: String!
  is_recorded: Int!
  watchman: String!
  record: String
  id: ID!
}

type ZadarmaData {
  staff_member: StaffMember
}

type ZadarmaPbxCall {
  pbx_call_id: String!
  ts: String!
  calls: [ZadarmaCall!]!
  data: ZadarmaData
  id: ID!
}

type ZadarmaPbxCallConnection {
  pageInfo: PageInfo!
  nodes: [ZadarmaPbxCall!]!
  edges: [ZadarmaPbxCallEdge!]!
}

type ZadarmaPbxCallEdge {
  node: ZadarmaPbxCall!
}

type ZoomMeeting {
  id: ID!
  zoom_id: String!
  join_url: String!
  instances: [ZoomMeetingInstance!]!
  participants_count: Int
}

type ZoomMeetingInstance {
  id: ID!
  zoom_uuid: String!
  start_time: String!
  end_time: String!
  participants: [ZoomParticipant!]!
}

type ZoomParticipant {
  id: ID!
  name: String!
  join_time: String!
  leave_time: String!
}
